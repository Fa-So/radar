<form ng-repeat="con in storedConnections" ng-hide="status === 'connected' && url !== con">
  <span>{{con}}</span>
  <button ng-disabled="status !== 'disconnected'"  ng-click="connect(con)">connect</button>
  <button ng-disabled="url !== con" ng-click="disconnect()">disconnect</button>
  <button ng-disabled="url === con && status !== 'disconnected'" ng-click="removeStoredConnection(con)">remove</button>
</form>
<form ng-hide="status === 'connected'" ng-submit="connect(newUrl); newUrl=''">
  <input ng-model="newUrl" placeholder="ws://jet.nodejitsu.com:80" required>
  <input ng-disabled="!isValidWsUrl && status !== 'disconnect'" type="submit" value="connect">
  <span class="connection-status {{status}}">{{status}}</span>
</form>

<form ng-submit="fetch()">
  <fieldset>
    <legend>Path</legend>
    <label>Case Sensitive</label><input ng-model="caseSensitive" type="checkbox">
    <div ng-repeat="pathFilter in pathFilters | filter:{active:true}">
      <h3>{{pathFilter.op}}</h3>
      <input type="text">
      <input type="button" ng-click="pathFilter.active=false" value="remove">
    </div>
    <label>Add Path filter:</label>
    <select
      ng-model="newPathFilter"
      ng-options="pathFilter.op for pathFilter in pathFilters | filter:{active:false}"
      ng-change="newPathFilter.active = true">
    </select>
  </fieldset>
  <input type="submit" value="fetch">
  <!-- <fieldset>
    <legend>Value Field</legend>
    <label>Field Name</label><input ng-model="caseSensitive" type="checkbox">
    <div ng-repeat="pathFilter in pathFilters | filter:{active:true}">
      <h3>{{pathFilter.op}}</h3>
      <input type="text" required>
      <input type="button" ng-click="pathFilter.active=false" value="remove">
    </div>
    <select
      ng-model="newPathFilter"
      ng-options="pathFilter.op for pathFilter in pathFilters | filter:{active:false}"
      ng-change="newPathFilter.active = true">
    </select>
  </fieldset> -->

</form>

<div>
  <ul class="elements">
    <li class="element" ng-repeat="element in elements">
      <div ng-if="element.$call" method="element"></div>
      <div ng-if="element.$save" state="element"></div>
    </li>
  </ul>
</div>
